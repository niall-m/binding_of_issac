{"version":3,"sources":["webpack:///webpack/bootstrap 8ffb93014de73f0b0124","webpack:///./lib/blinding_of_issac.js","webpack:///./lib/game.js","webpack:///./lib/hero.js","webpack:///./lib/coin.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;ACPD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+D;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT,K;;AAEA;AACA;AACA;AACA,8B;AACA;AACA;AACA;AACA;AACA;AACA,+B;AACA;AACA;AACA;AACA;AACA;AACA,8B;AACA;AACA;AACA;AACA;AACA;AACA,+B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sB;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,c;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Y;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sB","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8ffb93014de73f0b0124","import Game from './game.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    const game = new Game(ctx);\n    game.start();\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/blinding_of_issac.js\n// module id = 0\n// module chunks = 0","import Hero from \"./hero\";\nimport Coin from \"./coin\";\n// import Monster from \"./monster\";\n// import Laser from \"./laser\";\n\nclass Game {\n    constructor(ctx) {\n        this.ctx = ctx;\n        this.background = new Image();\n        this.background.src = \"./assets/canvas_background.png\";\n        \n        this.hero = new Hero(100, 100);\n        this.coins = [];\n        // this.monsters = [];\n        // this.lasers = [];\n        \n        this.points = 0;\n        this.paused = false;\n        // this.gameOver = false;\n\n        document.addEventListener(\"keydown\", e => {\n            if (e.keyCode === 80) {\n                this.togglePause();\n            }\n        });\n    }\n\n    remove(object) {\n        if (object instanceof Coin) {\n            this.coins.splice(this.coins.indexOf(object), 1);\n        } else if (object instanceof Hero) {\n            this.hero = {};\n        } else {\n            throw \"wtf?\";\n        }\n    }\n\n    coinCollisions() {\n        this.coins.forEach(coin => {\n            if (coin.collideWith(this.hero)) {\n                this.points += 1;\n                // console.log(this.points);\n                this.remove(coin);\n                return true;\n            }\n        });\n    }\n\n    updatePoints() {\n        const display = document.getElementById('points-display');\n        display.innerHTML = this.points;\n    }\n    \n    checkCollisions() {\n        this.coinCollisions();\n        \n    }\n\n    randomInt(min, max) {\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n    \n    generateCoins() {\n        if (this.coins.length < Game.NUM_COINS) {\n            const c = new Coin(\n                this.randomInt(100, Game.WIDTH - 100), \n                this.randomInt(100, Game.HEIGHT - 100)\n            );\n            this.coins.push(c);\n        }\n    }\n\n    allObjects() {\n        return [].concat(this.hero, this.coins);\n    }\n\n    renderAllObjects() {\n        // console.log(this.allObjects());\n        this.checkCollisions();\n        this.updatePoints();\n        this.allObjects().forEach((obj) => obj.render(this.ctx));\n    }\n\n    render() {\n        if (this.paused) {\n            requestAnimationFrame(this.render.bind(this));\n        } else {\n            const now = Date.now();\n            var delta = now - then;\n            // console.log(delta);\n            this.hero.move(delta / 1000);\n\n            this.ctx.clearRect(0, 0, Game.WIDTH, Game.HEIGHT);\n            this.ctx.drawImage(this.background, 0, 0);\n            this.generateCoins();\n            this.renderAllObjects();\n            then = now;\n            requestAnimationFrame(this.render.bind(this));\n        }\n    }\n\n    togglePause() {\n        if (this.paused === false) {\n            this.paused = true;\n            this.hero.paused = true;\n        } else {\n            this.paused = false;\n            this.hero.paused = false;\n        }\n    }\n\n    start() {\n        this.render();\n    }\n}\n\nvar then = Date.now();\n\nGame.WIDTH = 660;\nGame.HEIGHT = 500;\nGame.NUM_MONSTERS = 3;\nGame.NUM_COINS = 4;\n\nexport default Game;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 1\n// module chunks = 0","class Hero {\n    constructor(x, y) {\n        this.speed = 300;\n        this.x = x;\n        this.y = y;\n        this.heroImage = new Image();\n        this.heroImage.src = \"./assets/knight.png\";\n\n        this.paused = false;\n        this.keysDown = {};\n\n        document.addEventListener(\"keydown\", e => {\n            // console.log('key down');\n            if (this.paused) {\n                this.keysDown = {};\n            } else {\n                this.keysDown[e.keyCode] = true;\n                // console.log(this.keysDown);\n            }\n        }, false);\n\n        document.addEventListener(\"keyup\", e => {\n            // console.log('key up');\n            if (this.paused) {\n                this.keysDown = {};\n            } else {\n                // console.log(this.keysDown);\n                delete this.keysDown[e.keyCode];\n                // console.log(this.keysDown);\n            }\n        }, false);\n    } \n\n    move(modifier) {\n        // holding left, 'a' or arrow\n        if (65 in this.keysDown || 37 in this.keysDown)  {\n            if (this.x > 30) {    \n                this.x -= this.speed * modifier;\n            }\n        }\n        // holding right, 'd' or arrow\n        if (68 in this.keysDown || 39 in this.keysDown) {\n            if (this.x < 600) {    \n                this.x += this.speed * modifier;\n            }\n        }\n        // holding up, 'w' or arrow\n        if (87 in this.keysDown || 38 in this.keysDown) {\n            if (this.y > 40) {    \n                this.y -= this.speed * modifier;\n            }\n        }\n        // holding down, 's' or arrow\n        if (83 in this.keysDown || 40 in this.keysDown) {\n            if (this.y < 420) {    \n                this.y += this.speed * modifier;\n            }\n        }\n    }\n\n    render(ctx) {\n        ctx.drawImage(this.heroImage, this.x, this.y, 60, 60);\n    }\n}\n\nmodule.exports = Hero;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/hero.js\n// module id = 2\n// module chunks = 0","class Coin {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.width = 50;\n        this.height = 50;\n        this.coinImage = new Image();\n        // this.coinImage.src = \"https://i.imgur.com/SJtG1rE.png\";\n        this.coinImage.src = \"./assets/bitcoin_sprite-.png\";\n        this.frameIndex = 0;\n        this.tickCount = 0;\n        this.ticksPerFrame = this.ticksPerFrame || 4;\n        this.numberOfFrames = this.numberOfFrames || 6;\n    }\n\n    update() {        \n        this.tickCount += 1;\n        if (this.tickCount > this.ticksPerFrame) {\n            this.tickCount = 0;\n            if (this.frameIndex < this.numberOfFrames - 1) {\n                this.frameIndex += 1;\n            } else {\n                this.frameIndex = 0;\n            }\n            this.frameIndex += 1;\n          }\n    }\n\n    collideWith(obj2) {\n        if (Math.sqrt( Math.pow((this.x - obj2.x), 2) + Math.pow((this.y - obj2.y), 2) ) <= 40) {\n            // console.log(\"collision\");\n            return true;\n        }\n        // else if (obj1.y <= obj2.y) {\n        //     return true;\n        // } \n        else {\n            return false;\n        }\n    }\n\n    render(ctx) {\n        this.update(this);\n        ctx.drawImage(\n            this.coinImage,\n            this.frameIndex * this.width,\n            0,\n            this.width,\n            this.height,\n            this.x,\n            this.y,\n            this.width,\n            this.height\n        );\n    }\n}\n\nmodule.exports = Coin;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/coin.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}